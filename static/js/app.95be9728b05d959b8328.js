webpackJsonp([1],{"/75G":function(e,t){},HjiB:function(e,t){},Hug9:function(e,t){},Kc5V:function(e,t){},M6wu:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",{on:{dragstart:function(e){e.preventDefault()},contextmenu:function(e){e.preventDefault()}}},[t("router-view")],1)},staticRenderFns:[]};var i,o=a("VU/8")({name:"app"},r,!1,function(e){a("Hug9")},null,null).exports,c=a("NYxO"),s=a("d7EF"),h=a.n(s),u=a("M4fF"),p=a("bOdI"),l=a.n(p),d={O:[[1,1],[1,1]],I:[[1],[1],[1],[1]],S:[[0,1,1],[1,1,0]],Z:[[1,1,0],[0,1,1]],L:[[1,0],[1,0],[1,1]],J:[[0,1],[0,1],[1,1]],T:[[1,1,1],[0,1,0]]},y=(i={"+y":"I@000","-x":"I@090","-y":"I@000","+x":"I@090","+y+y":"I@000","-x-x":"I@090","-y-y":"I@000","+x+x":"I@090","+y+y+y":"I@000","-x-x-x":"I@090","-y-y-y":"I@000","+x+x+x":"I@090","-x+y-x":"S@000","-y-x-y":"S@090","+x-y+x":"S@000","+y+x+y":"S@090","-x-y-x":"Z@000","-y+x-y":"Z@090","+x+y+x":"Z@000","+y-x+y":"Z@090","+y+y+x":"L@000","-x-x+y":"L@090","-y-y-x":"L@180","+x+x-y":"L@270","-x-y-y":"L@000","-y+x+x":"L@090","+x+y+y":"L@180","+y-x-x":"L@270","+y+y-x":"J@000"},l()(i,"-x-x+y","J@090"),l()(i,"-y-y+x","J@180"),l()(i,"+x+x+y","J@270"),l()(i,"+x-y-y","J@000"),l()(i,"+y+x+x","J@090"),l()(i,"-x+y+y","J@180"),l()(i,"-y-x-x","J@270"),l()(i,"+x-x+y","T@000"),l()(i,"+y-y-x","T@090"),l()(i,"-x+x-y","T@180"),l()(i,"-y+y+x","T@270"),l()(i,"-x+x+y","T@000"),l()(i,"-y+y-x","T@090"),l()(i,"+x-x-y","T@180"),l()(i,"+y-y+x","T@270"),l()(i,"-y+x-x","T@000"),l()(i,"+x+y-y","T@090"),l()(i,"+y-x+x","T@180"),l()(i,"-x+y-y","T@270"),l()(i,"-y+x-x","T@000"),l()(i,"+x+y-y","T@090"),l()(i,"+y-x+x","T@180"),l()(i,"-x+y-y","T@270"),l()(i,"+y+y+y+y","I@000"),l()(i,"-x-x-x-x","I@090"),l()(i,"-y-y-y-y","I@000"),l()(i,"+x+x+x+x","I@090"),l()(i,"-x-x+y-x","S@000"),l()(i,"-x+y+y-x","S@000"),l()(i,"-x+y-x-x","S@000"),l()(i,"-y-y-x-y","S@090"),l()(i,"-y-x-x-y","S@090"),l()(i,"-y-x-y-y","S@090"),l()(i,"+x+x-y+x","S@000"),l()(i,"+x-y-y+x","S@000"),l()(i,"+x-y+x+x","S@000"),l()(i,"+y+y+x+y","S@090"),l()(i,"+y+x+x+y","S@090"),l()(i,"+y+x+y+y","S@090"),l()(i,"-x-x-y-x","Z@000"),l()(i,"-x-y-y-x","Z@000"),l()(i,"-x-y-x-x","Z@000"),l()(i,"-y-y+x-y","Z@090"),l()(i,"-y+x+x-y","Z@090"),l()(i,"-y+x-y-y","Z@090"),l()(i,"+x+x+y+x","Z@000"),l()(i,"+x+y+y+x","Z@000"),l()(i,"+x+y+x+x","Z@000"),l()(i,"+y+y-x+y","Z@090"),l()(i,"+y-x-x+y","Z@090"),l()(i,"+y-x+y+y","Z@090"),l()(i,"+y+y+y+x","L@000"),l()(i,"-x-x-x+y","L@090"),l()(i,"-y-y-y-x","L@180"),l()(i,"+x+x+x-y","L@270"),l()(i,"-x-y-y-y","L@000"),l()(i,"-y+x+x+x","L@090"),l()(i,"+x+y+y+y","L@180"),l()(i,"+y-x-x-x","L@270"),l()(i,"+y+y+y-x","J@000"),l()(i,"-x-x-x-y","J@090"),l()(i,"-y-y-y+x","J@180"),l()(i,"+x+x+x+y","J@270"),l()(i,"+x-y-y-y","J@000"),l()(i,"+y+x+x+x","J@090"),l()(i,"-x+y+y+y","J@180"),l()(i,"-y-x-x-x","J@270"),l()(i,"+x+y-x-y","O@000"),l()(i,"+y-x-y+x","O@090"),l()(i,"-x-y+x+y","O@180"),l()(i,"-y+x+y-x","O@270"),l()(i,"-x+y+x-y","O@000"),l()(i,"-y-x+y+x","O@090"),l()(i,"+x-y-x+y","O@180"),l()(i,"+y+x-y-x","O@270"),l()(i,"+x+x-x+y","T@000"),l()(i,"+y+y-y-x","T@090"),l()(i,"-x-x+x-y","T@180"),l()(i,"-y-y+y+x","T@270"),l()(i,"-x-x+x+y","T@000"),l()(i,"-y-y+y-x","T@090"),l()(i,"+x+x-x-y","T@180"),l()(i,"+y+y-y+x","T@270"),l()(i,"-y+x-x-x","T@000"),l()(i,"+x+y-y-y","T@090"),l()(i,"+y-x+x+x","T@180"),l()(i,"-x-y+y+y","T@270"),l()(i,"-y-x+x+x","T@000"),l()(i,"+x-y+y+y","T@090"),l()(i,"+y+x-x-x","T@180"),l()(i,"-x+y-y-y","T@270"),i),x=function(e){return function(t){return Object(u.map)(Object(u.fill)(new Array(e),0),function(){return Object(u.fill)(new Array(t),0)})}},g=function(e){return Object(u.split)(e,"@",1)[0]},m=function(e){var t=e.length,a=e[0].length,n=x(a)(t);return Object(u.forEach)(n,function(a,r){return Object(u.forEach)(a,function(a,i){n[r][i]=e[t-1-i][r]})}),n},f=function(e){var t,a=Object(u.split)(e,"@",2),n=h()(a,2),r=n[0],i=n[1],o=d[r]||[[]];return i?(t=o,function(e){for(var a={"000":0,"090":1,180:2,270:3},n=t,r=0;r<a[e];r++)n=m(n);return n})(i):o},v={colorScheme:{primary:"#414C3C",primaryWhite:"#C1CBBD",primaryLight:"#939E8E",primaryDark:"#262D23"},baseShapes:d,calibrated:!0,doubleTapped:!0,lastTapped:0,headerLength:6,gridHeight:22,gridWidth:10,grid:x(22)(10),playing:!1,minTimeout:10,maxTimeout:300,score:0,lastShapes:[],streakSize:7,touching:!1,newTouch:null,touchArray:[],cleanTouch:!1,renderingTouch:!1,recognizedShape:"",recognizedShapeX:0,recognizedShapeY:0,recognizedShapeDirection:1,learntShapeId:0},b={baseShapesKeys:function(e){return Object(u.keys)(e.baseShapes)},totalHeight:function(e){return e.headerLength+e.gridHeight},timeout:function(e){var t=1-2*Math.atan(e.score/500)/Math.PI;return t*e.maxTimeout+(1-t)*e.minTimeout},spaceWithGrid:function(e){var t=f(e.recognizedShape);t[t.length-1],Object(u.indexOf)(Object(u.map)(e.grid,function(e){return Object(u.sum)(e)>0}),!0);return e.recognizedShapeY+t.length},streak:function(e){return 10*Object(u.uniq)(Object(u.map)(e.lastShapes,g)).length},learntShape:function(e,t){return t.baseShapesKeys[e.learntShapeId]}},T=function(e){return e[e.length-1]-e[0]},S=function(e){var t=Object(u.map)(e,0),a=Object(u.map)(e,1),n=[{axis:"x",offset:T(t),absOffset:Math.abs(T(t))},{axis:"y",offset:T(a),absOffset:Math.abs(T(a))}],r=Object(u.maxBy)(n,"absOffset"),i=Object(u.minBy)(n,"absOffset"),o=r.absOffset-i.absOffset;return{axis:(r.offset>=0?"+":"-")+r.axis,score:o}},_=function(e){return function(t){var a=Object(u.chunk)(e,Math.ceil(e.length/t));return Object(u.map)(a,S)}},O={handleTap:function(e,t){var a=e.state,n=e.commit,r=e.dispatch,i=t.timeStamp;i-a.lastTapped<250?a.doubleTapped?r("finishRecognizedShape"):r("finishDoubleTap"):n("changeLastTapped",i)},handleTouchStart:function(e){(0,e.commit)("changeTouching",!0)},handleTouchMove:function(e,t){var a=e.state,n=e.commit;if(a.touching){var r=t.touches?t.touches[0]:{clientX:t.clientX,clientY:t.clientY};n("changeNewTouch",r),n("pushTouchArray",[r.clientX,r.clientY])}},handleTouchEnd:function(e){var t,a,n,r,i,o=e.state,c=e.commit,s=e.dispatch,h=(t=o.touchArray,a=[{count:1,axisScore:_(t)(1),score:Object(u.sumBy)(_(t)(1),"score")},{count:2,axisScore:_(t)(2),score:Object(u.sumBy)(_(t)(2),"score")},{count:3,axisScore:_(t)(3),score:Object(u.sumBy)(_(t)(3),"score")},{count:4,axisScore:_(t)(4),score:Object(u.sumBy)(_(t)(4),"score")}],n=Object(u.sum)(Object(u.map)(Object(u.maxBy)(a,"score").axisScore,"axis")),r=Object(u.sum)(Object(u.map)(a[2].axisScore,"axis")),i=["-x+y","-y+x","-y-x","+x+y","+x-y","+y-x","+y+x","-x-y"],console.log("Result of the recognition\n","| Best match: "+n+"\n","| Shape: "+y[n]+"\n","| Ambiguous: "+Object(u.includes)(i,n)+"\n","| Second best: "+r+"\n\n"),(Object(u.includes)(i,n)?y[r]:y[n])||"");h&&(c("changeRecognizedShape",h),c("changeNewTouch",null),o.calibrated||s("nextCalibration")),c("changeTouching",!1),c("resetTouchArray"),c("changeCleanTouch",!0)},resetCalibration:function(e){var t=e.commit;t("changeCalibrated",!1),t("changeLearntShapeId",0)},nextCalibration:function(e){var t=e.state,a=e.getters,n=e.commit,r=e.dispatch;if(g(t.recognizedShape)===a.learntShape){var i=t.learntShapeId+1;i===Object(u.size)(t.baseShapes)?r("finishCalibration"):n("changeLearntShapeId",i)}},finishCalibration:function(e){var t=e.commit,a=e.dispatch;t("changeCalibrated",!0),a("resetDoubleTap")},resetDoubleTap:function(e){(0,e.commit)("changeDoubleTapped",!1)},finishDoubleTap:function(e){(0,e.commit)("changeDoubleTapped",!0)},stopPlaying:function(e){(0,e.commit)("changePlaying",!1)},confirmCleanTouch:function(e){(0,e.commit)("changeCleanTouch",!1)},startRenderingTouch:function(e,t){(0,e.commit)("changeRenderingTouch",!0),t()},stopRenderingTouch:function(e){(0,e.commit)("changeRenderingTouch",!1)},resetGame:function(e){var t=e.getters,a=e.commit,n=e.dispatch;a("changeGrid",x(22)(10)),a("changePlaying",!0),a("changeScore",0),a("resetLastShapes"),n("resetRecognizedShape"),window.setTimeout(function(){return n("incrementRecognizedShapeY")},t.timeout)},resetRecognizedShape:function(e){var t=e.state,a=e.getters,n=e.commit;n("changeRecognizedShapeX",Object(u.random)(0,t.gridWidth-4)),n("changeRecognizedShapeY",0);var r=a.baseShapesKeys;n("changeRecognizedShape",r[Object(u.random)(0,r.length-1,!1)]+"@"+["000","090","180","270"][Object(u.random)(0,3,!1)])},finishRecognizedShape:function(e){var t=e.state,a=e.getters,n=e.commit,r=e.dispatch;n("pushLastShapes",t.recognizedShape),n("changeScore",t.score+a.streak),r("resetRecognizedShape")},incrementRecognizedShapeY:function(e){var t=e.state,a=e.getters,n=e.commit,r=e.dispatch;a.spaceWithGrid<=0||t.recognizedShapeY+1>a.totalHeight?r("finishRecognizedShape"):n("changeRecognizedShapeY",t.recognizedShapeY+1),t.playing&&window.setTimeout(function(){return r("incrementRecognizedShapeY")},a.timeout)},changeGridCell:function(e,t){(0,e.commit)("changeGridCell",t)}},w=a("Gu7T"),j=a.n(w),R={changeCalibrated:function(e,t){e.calibrated=t},changeLastTapped:function(e,t){e.lastTapped=t},changeDoubleTapped:function(e,t){e.doubleTapped=t},changeGrid:function(e,t){e.grid=t},changeGridCell:function(e,t){var a,n=t.i,r=t.j,i=t.value;e.grid=(a=e.grid,function(e){return function(t){return function(n){var r=Object(u.cloneDeep)(a);return r[e][t]=n,r}}})(n)(r)(i)},changePlaying:function(e,t){e.playing=t},changeRecognizedShapeX:function(e,t){e.recognizedShapeX=t},changeRecognizedShapeY:function(e,t){e.recognizedShapeY=t},changeScore:function(e,t){e.score=t},changeTouching:function(e,t){e.touching=t},changeNewTouch:function(e,t){e.newTouch=t},pushTouchArray:function(e,t){e.touchArray=[].concat(j()(e.touchArray),[t])},resetTouchArray:function(e){e.touchArray=[]},changeCleanTouch:function(e,t){e.cleanTouch=t},changeRenderingTouch:function(e,t){e.renderingTouch=t},pushLastShapes:function(e,t){e.lastShapes=[].concat(j()(Object(u.takeRight)(e.lastShapes,e.streakSize-1)),[t])},resetLastShapes:function(e){e.lastShapes=[]},changeRecognizedShape:function(e,t){e.recognizedShape=t},changeLearntShapeId:function(e,t){e.learntShapeId=t}};n.a.use(c.a);var k=new c.a.Store({state:v,getters:b,actions:O,mutations:R}),z=a("/ocq"),C=a("Dd8w"),L=a.n(C),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(u.fromPairs)(Object(u.map)(Object(u.concat)(Object(u.dropRight)(e,t.length),Object(u.map)(Object(u.zip)(Object(u.takeRight)(e,t.length),t),function(e){var t=h()(e,2),a=t[0],n=t[1];return L()({},a,{name:n})})),function(e){return[e.name,e]}))},D=function(e){return Object(u.fromPairs)(Object(u.map)(e,function(e){var t=h()(e,4),a=t[0],n=t[1],r=t[2],i=t[3];return i?[r,{type:n,required:"required"===a,default:i}]:[r,{type:n,required:"required"===a}]}))},E={name:"app-button",props:D([["optional",String,"label",""],["optional",Boolean,"disabled",!1]])},A={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{class:{disabled:this.disabled}},[this._v(this._s(this.label))])},staticRenderFns:[]};var J=a("VU/8")(E,A,!1,function(e){a("OxkJ")},"data-v-22a88d7e",null).exports,B={name:"view-menu",components:I([J]),computed:Object(c.d)(["calibrated"])},Z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",[this._m(0),this._v(" "),t("ul",[t("li",[t("router-link",{attrs:{to:"/tutorial",tag:"a"}},[t("app-button",{staticClass:"button",attrs:{label:"Tutorial"}})],1)],1),this._v(" "),t("li",[t("router-link",{attrs:{to:"/play",tag:"a"}},[t("app-button",{staticClass:"button",attrs:{label:"New Game"}})],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h1",[this._v("TETRIS")]),this._v(" "),t("h1",[this._v("TOUCH")])])}]};var V=a("VU/8")(B,Z,!1,function(e){a("HjiB")},"data-v-b2fda000",null).exports,Y={name:"app-game-pattern",props:D([["required",String,"id"]])},F={render:function(){var e=this.$createElement;return(this._self._c||e)("pattern",{attrs:{id:this.id,x:"0",y:"0",width:"1",height:"1"}},[this._t("default")],2)},staticRenderFns:[]},M={name:"app-game-defs",components:I([a("VU/8")(Y,F,!1,null,null,null).exports]),computed:Object(c.d)(["colorScheme"])},W={render:function(){var e=this.$createElement,t=this._self._c||e;return t("defs",[t("app-game-pattern",{attrs:{id:"cell-0"}}),this._v(" "),t("app-game-pattern",{attrs:{id:"cell-1"}},[t("rect",{attrs:{x:"0",y:"0",width:"1",height:"1",fill:this.colorScheme.primary}}),this._v(" "),t("rect",{attrs:{x:"0.15",y:"0.15",width:"0.7",height:"0.7",fill:this.colorScheme.primaryWhite}})]),this._v(" "),t("app-game-pattern",{attrs:{id:"cell-2"}},[t("rect",{attrs:{x:"0",y:"0",width:"1",height:"1",fill:this.colorScheme.primary}})]),this._v(" "),t("app-game-pattern",{attrs:{id:"cell-3"}},[t("rect",{attrs:{x:"0",y:"0",width:"1",height:"1",fill:this.colorScheme.primaryDark}})])],1)},staticRenderFns:[]},H=a("VU/8")(M,W,!1,null,null,null).exports,G={name:"app-game-svg",components:I([H])},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"}},[t("app-game-defs"),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var P=a("VU/8")(G,$,!1,function(e){a("/75G")},"data-v-20945624",null).exports,U={name:"app-game-shape",props:D([["required",String,"code"],["optional",Boolean,"centered",!1],["optional",Number,"pattern",null]]),computed:{shape:function(){return f(this.code)},height:function(){return this.shape.length},width:function(){return this.shape[0].length}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",{attrs:{transform:e.centered?"translate(-"+e.width/2+", -"+e.height/2+")":""}},e._l(e.height,function(t,n){return a("g",{key:n},e._l(e.width,function(t,r){return a("rect",{key:r,attrs:{x:r,y:n,width:"1",height:"1",fill:"url(#cell-"+(0===e.shape[n][r]?0:e.pattern||e.shape[n][r])+")",stroke:"none"}})}))}))},staticRenderFns:[]},N=a("VU/8")(U,q,!1,null,null,null).exports,X={name:"view-tutorial",components:I([P,N,J]),computed:Object(c.d)(["colorScheme"])},K={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",[t("figure",[t("figcaption",[this._v("You choose the block's shape")]),this._v(" "),t("app-game-svg",{attrs:{viewBox:"0 0 15 4"}},[t("app-game-shape",{attrs:{code:"O",pattern:3,transform:"translate(0, 1)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"I",pattern:3,transform:"translate(3, 0)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"S",pattern:3,transform:"translate(5, 1)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"T",pattern:3,transform:"translate(9, 1)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"J",pattern:3,transform:"translate(13, 0.5)"}})],1)],1),this._v(" "),t("figure",[t("figcaption",[this._v("The game chooses the position")]),this._v(" "),t("app-game-svg",{attrs:{viewBox:"-30 -9 60 18"}},[t("path",{attrs:{d:"M-23,-5 l-5,5 l5,5"}}),this._v(" "),t("text",{attrs:{"text-anchor":"middle",transform:"translate(1.5, 7)"}},[this._v("?")]),this._v(" "),t("path",{attrs:{d:"M23,-5 l5,5 l-5,5"}})])],1),this._v(" "),t("figure",[t("figcaption",[this._v("Varying shapes adds to score")]),this._v(" "),t("app-game-svg",{staticClass:"small-font",attrs:{viewBox:"0 0 40 14"}},[t("g",[this._l(4,function(e,a){return t("app-game-shape",{key:a,attrs:{code:"I",pattern:3,transform:"translate("+2*a+", 0)"}})}),this._v(" "),this._l(3,function(e,a){return t("app-game-shape",{key:a+4,attrs:{code:"I@090",pattern:3,transform:"translate("+(5*a+8)+", 1.5)"}})}),this._v(" "),t("text",{attrs:{transform:"translate(30, 4)"}},[this._v("= 70")])],2),this._v(" "),t("g",{attrs:{transform:"translate(0, 5)"}},[this._l(3,function(e,a){return t("app-game-shape",{key:a,attrs:{code:"I",pattern:3,transform:"translate("+2*a+", 0)"}})}),this._v(" "),this._l(4,function(e,a){return t("app-game-shape",{key:a+3,attrs:{code:"Z",pattern:3,transform:"translate("+(4*a+6)+", 1)"}})}),this._v(" "),t("text",{attrs:{transform:"translate(30, 4)"}},[this._v("= 110")])],2),this._v(" "),t("g",{attrs:{transform:"translate(0, 10)"}},[t("app-game-shape",{attrs:{code:"S",pattern:3,transform:"translate(0, 1)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"Z",pattern:3,transform:"translate(4, 1)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"O",pattern:3,transform:"translate(8, 1)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"L",pattern:3,transform:"translate(11, 0.5)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"I",pattern:3,transform:"translate(14, 0)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"Z",pattern:3,transform:"translate(16, 1)"}}),this._v(" "),t("app-game-shape",{attrs:{code:"T",pattern:3,transform:"translate(20, 1)"}}),this._v(" "),t("text",{attrs:{transform:"translate(30, 4)"}},[this._v("= 260")])],1)])],1),this._v(" "),t("router-link",{attrs:{to:"/calibration",tag:"a"}},[t("app-button",{staticClass:"button",attrs:{label:"Next"}})],1)],1)},staticRenderFns:[]};var Q=a("VU/8")(X,K,!1,function(e){a("M6wu")},"data-v-9b8b90de",null).exports,ee={name:"app-touch",computed:Object(c.d)(["colorScheme","cleanTouch","renderingTouch","touchArray"]),methods:L()({},Object(c.b)(["handleTouchStart","handleTouchMove","handleTouchEnd","confirmCleanTouch","startRenderingTouch","stopRenderingTouch"]),{renderTouch:function(){var e=this.$refs.canvas;if(e){var t=e.getContext("2d"),a=window.innerHeight,n=window.innerWidth;if(e.height!==a&&(e.height=a),e.width!==n&&(e.width=n),this.touchArray.length>0){t.beginPath();var r=h()(this.touchArray[0],2),i=r[0],o=r[1];t.moveTo(i,o);for(var c=1;c<this.touchArray.length;c++){var s=h()(this.touchArray[c],2),u=s[0],p=s[1];t.lineTo(u,p)}t.lineWidth=8,t.lineCap="round",t.strokeStyle=this.colorScheme.primaryDark,t.stroke(),t.closePath()}this.cleanTouch&&(t.clearRect(0,0,n,a),this.confirmCleanTouch())}this.renderingTouch?window.requestAnimationFrame(this.renderTouch):window.cancelAnimationFrame(this.renderTouch)}}),mounted:function(){this.startRenderingTouch(this.renderTouch)},beforeDestroy:function(){this.stopRenderingTouch()}},te={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("canvas",{ref:"canvas",on:{touchstart:e.handleTouchStart,touchmove:e.handleTouchMove,touchend:function(t){t.preventDefault(),e.handleTouchEnd(t)},mousedown:e.handleTouchStart,mousemove:e.handleTouchMove,mouseup:e.handleTouchEnd}})},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("dFsV")},"data-v-cc2ade9e",null).exports,ne={name:"view-calibration",components:I([P,N,ae,J]),computed:L()({},Object(c.d)(["baseShapes","calibrated","doubleTapped"]),Object(c.c)(["baseShapesKeys","learntShape"])),methods:Object(c.b)(["resetCalibration","handleTap"]),created:function(){this.resetCalibration()}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[!e.calibrated&&e.doubleTapped?[a("figure",[a("figcaption",[e._v('\n\t\t\t\tDraw the "'+e._s(e.learntShape)+'" shape with a gesture on your screen\n\t\t\t')]),e._v(" "),a("app-game-svg",{attrs:{viewBox:"-2 -2 4 4"}},[a("app-game-shape",{attrs:{code:e.learntShape,pattern:1,centered:""}})],1)],1),e._v(" "),a("app-touch")]:e._e(),e._v(" "),e.calibrated&&!e.doubleTapped?[a("big",[e._v("Double tap to teleport a block down")]),e._v(" "),a("div",{attrs:{id:"double-tap-zone"},on:{mousedown:e.handleTap,touchend:function(t){t.preventDefault(),e.handleTap(t)}}})]:e._e(),e._v(" "),e.calibrated&&e.doubleTapped?[a("big",[e._v("Tutorial"),a("br"),e._v("complete!")]),e._v(" "),e.calibrated?a("router-link",{attrs:{to:"/play",tag:"a"}},[a("app-button",{staticClass:"button",attrs:{label:"Play"}})],1):e._e()]:e._e()],2)},staticRenderFns:[]};var ie=a("VU/8")(ne,re,!1,function(e){a("di+V")},"data-v-500b292b",null).exports,oe={name:"app-game",components:I([H,N,N,ae]),computed:L()({},Object(c.d)(["gridWidth","gridHeight","grid","score","headerLength","recognizedShape","recognizedShapeX","recognizedShapeY"]),Object(c.c)(["streak"])),methods:Object(c.b)(["handleTap"])},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("figure",{on:{mousedown:e.handleTap,touchend:function(t){t.preventDefault(),e.handleTap(t)}}},[a("aside"),e._v(" "),a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 "+e.gridWidth+" "+(e.gridHeight+e.headerLength),preserveAspectRatio:"xMidYMin",meetOrSlice:"meet"}},[a("app-game-defs"),e._v(" "),a("g",{attrs:{transform:"translate("+e.recognizedShapeX+", "+e.recognizedShapeY+")"}},[a("app-game-placeholder"),e._v(" "),a("app-game-shape",{attrs:{code:e.recognizedShape}})],1),e._v(" "),a("g",{attrs:{transform:"translate(0, "+e.headerLength+")"}},e._l(e.gridHeight,function(t,n){return a("g",{key:n},e._l(e.gridWidth,function(t,r){return a("rect",{key:r,attrs:{x:r,y:n,width:"1",height:"1",fill:"url(#cell-"+e.grid[n][r]+")",stroke:"none"}})}))}))],1),e._v(" "),a("app-touch",{staticClass:"bottom-layer"}),e._v(" "),a("figcaption",[a("h2",[e._v("Score")]),e._v(" "),a("span",[e._v(e._s(e.score))]),e._v(" "),a("h2",[e._v("Streak")]),e._v(" "),a("span",[e._v("+"+e._s(e.streak))]),e._v(" "),a("router-link",{staticClass:"top-layer",attrs:{to:"/",tag:"a"}},[e._v("\n\t\t\tBack\n\t\t")])],1)],1)},staticRenderFns:[]};var se={name:"view-play",components:I([a("VU/8")(oe,ce,!1,function(e){a("oWWe")},"data-v-9a9ec77c",null).exports]),methods:Object(c.b)(["resetGame","stopPlaying"]),created:function(){this.resetGame()},destroyed:function(){this.stopPlaying()}},he={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",[t("app-game")],1)},staticRenderFns:[]};var ue=a("VU/8")(se,he,!1,function(e){a("Kc5V")},"data-v-f2c67854",null).exports;n.a.use(z.a);var pe=new z.a({routes:[{path:"/",name:"menu",component:V},{path:"/tutorial",name:"tutorial",component:Q},{path:"/calibration",name:"calibration",component:ie},{path:"/play",name:"play",component:ue},{path:"*",redirect:"/"}]});n.a.config.productionTip=!1,new n.a({el:"#app",store:k,router:pe,template:"<App/>",components:{App:o}})},OxkJ:function(e,t){},dFsV:function(e,t){},"di+V":function(e,t){},oWWe:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.95be9728b05d959b8328.js.map